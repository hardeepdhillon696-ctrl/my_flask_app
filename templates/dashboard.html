<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ user.username }}'s Dashboard - GamerHub</title>

    <!-- Bootstrap -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@400;600&display=swap"rel="stylesheet"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow fixed-top">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    
    <!-- Brand on the far left -->
    <a class="navbar-brand fw-bold text-danger" href="/">üéÆ GamerHub</a>

    <!-- Logout on the far right -->
    <div>
      <a href="{{ url_for('logout') }}" class="btn btn-danger btn-sm">üö™ Logout</a>
    </div>

  </div>
</nav>

<!-- Dashboard Layout -->
<div class="container mt-4 dashboard">
    <!-- Profile Card -->
    <div class="d-flex justify-content-center mb-4">
        <div class="card profile-card shadow-lg text-center bg-dark text-white">
            <img
                class="avatar-img mt-3"
                src="{{ url_for('static', filename='avatars/' ~ (user.avatar or 'default-avatar.png')) }}"
                alt="avatar"
            />
            <div class="card-body">
                <h3 class="card-title username">{{ user.username|capitalize }}</h3>
                <p class="bio">{{ user.bio }}</p>
                {% if user.xp is not none %}
                <span class="badge bg-warning text-dark">‚≠ê XP: {{ user.xp }}</span>
                {% endif %}
                <a href="{{ url_for('profile', username=user.username) }}" class="btn btn-secondary profile-btn">
                    üë§ Profile
                </a>
            </div>
        </div>
    </div>
</div>


    <a href="{{ url_for('upload_file') }}" class="btn btn-primary upload-btn mb-4">‚¨Ü Upload</a>
<div class="row g-12">
  <div class="col-12">
    <div class="card shadow-lg w-100  text-light border-0" style="background-color: #613494;">
      <!-- Header -->
      <div class="card-header bg-gradient rounded-top-4 border-0" 
           style="background: linear-gradient(90deg, #964f4f, #222);">
        <h5 class="mb-0 fw-bold text-light">
          <i class="bi bi-folder-fill text-warning me-2"></i> My Uploads
        </h5>
      </div>

      <!-- Body -->
      <div class="card-body">
        {% if uploads %}
        <div class="row row-cols-1 row-cols-md-2 g-4">
          {% for upload in uploads %}
          <div class="col">
            <div class="card h-100 w-100 bg-secondary text-white border-0 rounded-3 shadow-sm overflow-hidden upload-card">
              
              <!-- Thumbnail (16:9 ratio like YouTube) -->
              <a href="{{ url_for('view_upload', upload_id=upload.id) }}" class="d-block position-relative">
                {% if upload.filetype == 'video' %}
                <video muted preload="metadata" class="w-100" style="height: 180px; object-fit: cover;">
                  <source src="{{ url_for('static', filename='uploads/' + upload.filename) }}" type="video/mp4" />
                </video>
                {% else %}
                <img src="{{ url_for('static', filename='uploads/' + upload.filename) }}"
                     alt="Upload"
                     class="w-100"
                     style="height: 180px; object-fit: cover;" />
                {% endif %}
              </a>

              <!-- Info -->
              <div class="card-body d-flex flex-column justify-content-between">
                <p class="mb-2 small text-light opacity-75">
                  üëÅ {{ upload.views }} &nbsp; | &nbsp; ‚ù§Ô∏è {{ upload.likes }}
                </p>
                <div class="d-flex justify-content-between">
                  <form action="{{ url_for('like_upload', upload_id=upload.id) }}" method="POST">
                    <button type="submit" class="btn btn-sm btn-outline-light rounded-pill px-3">
                      ‚ù§Ô∏è Like
                    </button>
                  </form>
                  <form action="{{ url_for('delete_upload', upload_id=upload.id) }}" method="POST">
                    <button type="submit" class="btn btn-sm btn-outline-warning rounded-pill px-3">
                      üóë Delete
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        {% else %}
          <p class="text-muted text-center fst-italic">‚ú® You haven‚Äôt uploaded anything yet.</p>
        {% endif %}
      </div>
    </div>
  </div>
</div>
    <!-- Split content: Uploads (left) and Games (right) -->
   

<div class="row g-2 mt-2">
  <!-- Tic Tac Toe Game (left column) -->
  <div class="col-md-3">
    <div class="card shadow rounded bg-dark text-light h-100">
      <div class="card-header d-flex align-items-center justify-content-center">
        <h5>Tic Tac Toe Game</h5>
      </div>
      <div class="card-body d-flex flex-column align-items-center" style="max-height:600px; overflow-y:auto;">
        <div id="tic-tac-toe-game" style="width: 100%; max-width: 320px;">
          <!-- Player inputs -->
          <input type="text" id="playerXName" class="form-control mb-3" placeholder="Player X Name" />
          <input type="text" id="playerOName" class="form-control mb-3" placeholder="Player O Name" />

          <!-- Tic Tac Toe board -->
          <table id="tic-tac-toe-board" style="width: 100%; border-collapse: separate; border-spacing: 5px; cursor: pointer;">
            <tr>
              <td data-cell="0"></td>
              <td data-cell="1"></td>
              <td data-cell="2"></td>
              <td data-cell="3"></td>
            </tr>
            <tr>
              <td data-cell="4"></td>
              <td data-cell="5"></td>
              <td data-cell="6"></td>
              <td data-cell="7"></td>
            </tr>
            <tr>
              <td data-cell="8"></td>
              <td data-cell="9"></td>
              <td data-cell="10"></td>
              <td data-cell="11"></td>
            </tr>
          </table>

          <button id="tic-tac-toe-reset" class="btn btn-warning mt-3 mx-auto d-block">Reset Game</button>
          <p id="tic-tac-toe-status" class="text-center mt-2">Player X's turn</p>
        </div>
      </div>
    </div>
  </div>                                                                                                                                                                           
<title>CandiCrush ‚Äî Match-3 Game</title>
<div class="wrap">
  <!-- Left panel -->
  <div class="panel" aria-live="polite">
    <div class="title">
      <div class="logo">CC</div>
      <div>
        <h1>CandiCrush</h1>
        <p class="desc">Match 3 or more candies to score. Try to beat the target score in limited moves.</p>
      </div>
    </div>

    <div class="scoreboard">
      <div class="stat">
        <div style="font-size:12px;color:var(--muted)">Score</div>
        <div class="big" id="score">0</div>
      </div>
      <div class="stat">
        <div style="font-size:12px;color:var(--muted)">Moves Left</div>
        <div class="big" id="moves">30</div>
      </div>
    </div>

    <div class="controls">
      <button class="btn" id="btnRestart">Restart</button>
      <button class="btn secondary" id="btnShuffle">Shuffle</button>
      <button class="btn" id="btnHint">Hint</button>
    </div>

    <div class="info">
      <strong>How to play</strong>
      <p style="margin:8px 0 0 0">Click a candy, then click an adjacent candy to swap. Match 3 or more in a row or column to clear them. Chains give combos and extra points.</p>
    </div>

    <div style="margin-top:14px; font-size:13px; color:var(--muted)">
      <div>Target: <strong id="target">2000</strong> pts</div>
      <div style="margin-top:6px">Combos award bonus points.</div>
    </div>
  </div>

  <!-- Right panel -->
  <div class="board-wrap panel" role="application">
    <div class="topbar">
      <div class="left">
        <div class="moves">Level 1</div>
        <div class="level">Difficulty: Normal</div>
      </div>
      <div class="status" id="statusLabel">Ready</div>
    </div>

    <div class="board" id="boardContainer" style="--cols:8; --rows:8;">
      <div id="grid" class="grid" style="grid-template-columns: repeat(8, 56px); grid-auto-rows: 56px;"></div>
    </div>

    <div class="hud">
      <div class="hint" id="hintText">Tip: swap adjacent candies</div>
      <div>
        <small style="color:var(--muted)">Made with ‚ù§Ô∏è</small>
      </div>
    </div>

  </div>
</div>

<script>
/*
  CandiCrush ‚Äî Match-3 game logic
  - 8x8 grid
  - Click-select swap; basic match detection & gravity; refill; scoring
*/

</script>
<div class="col-12 mt-4">
  <div class="card shadow rounded bg-dark text-light">
    <div class="card-header d-flex align-items-center justify-content-center">
      <h5>üé± Pool Game</h5>
    </div>
    <div class="card-body text-center" style="position:relative;">
  <canvas id="poolCanvas" width="800" height="400" 
          style="border-radius:15px; background:#35654d; box-shadow:0 0 20px rgba(0,0,0,0.5);">
  </canvas>

  <!-- üé≠ Popup Message -->
  <div id="gameMessage"></div>

  <!-- üéÆ Game Over Overlay -->
  <div id="gameOverOverlay" class="overlay hidden">
      <div class="overlay-content">
          <h1 id="gameOverTitle">Game Over</h1>
          <p id="gameOverMessage"></p>
          <div class="overlay-buttons">
              <button onclick="restartGame()">Play Again</button>
              <button onclick="exitGame()">Exit</button>
</div>
</div>
</div>
</div>
</div>


<!-- Modal -->
<div
    class="modal fade"
    id="mediaModal"
    tabindex="-1"
    aria-labelledby="mediaModalLabel"
    aria-hidden="true"
>
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content bg-dark text-white">
            <div class="modal-header border-0">
                <h5 class="modal-title" id="mediaModalLabel">Media Viewer</h5>
                <button
                    type="button"
                    class="btn-close btn-close-white"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                ></button>
            </div>
            <div class="modal-body text-center">
                <!-- Media content injected via JS -->
            </div>
            <div class="modal-footer">
                <p class="me-3">üëÅÔ∏è Views: <span id="modal-views">0</span></p>
                <p class="me-3">‚ù§Ô∏è Likes: <span id="modal-likes">0</span></p>
                <form id="modal-like-form" method="POST">
                    <button type="submit" class="btn btn-danger btn-sm">‚ù§Ô∏è Like</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    const mediaModal = document.getElementById("mediaModal");

    mediaModal.addEventListener("show.bs.modal", function (event) {
        const button = event.relatedTarget;
        const type = button.getAttribute("data-type");
        const src = button.getAttribute("data-src");
        const videoId = button.getAttribute("data-id");
        const views = button.getAttribute("data-views");
        const likes = button.getAttribute("data-likes");

        const modalBody = mediaModal.querySelector(".modal-body");
        modalBody.innerHTML = "";

        // Inject media
        if (type === "image") {
            const img = document.createElement("img");
            img.src = src;
            img.className = "img-fluid rounded";
            modalBody.appendChild(img);
        } else {
            const video = document.createElement("video");
            video.src = src;
            video.className = "w-100 rounded";
            video.controls = true;
            video.autoplay = true;
            modalBody.appendChild(video);
        }

        // Update views and likes
        document.getElementById("modal-views").textContent = views;
        document.getElementById("modal-likes").textContent = likes;

        // Update the form action for liking
        const likeForm = document.getElementById("modal-like-form");
        likeForm.action = `/like_video/${videoId}`; // Make sure this route exists in Flask
    });
</script>
<script src="{{ url_for('static', filename='js/tic_tac_toe.js') }}"></script>

<div id="scoreboard">
  <div class="player-card">
    <div class="avatar avatar-red" id="p1Avatar">P1</div>
    <input id="p1Name" value="Player 1" oninput="updateAvatar('p1')">
    <span id="p1BallCount">7</span>
    <div class="ball-badge" id="p1Balls"></div>
  </div>

  <div class="player-card">
    <div class="avatar avatar-yellow" id="p2Avatar">P2</div>
    <input id="p2Name" value="Player 2" oninput="updateAvatar('p2')">
    <span id="p2BallCount">7</span>
    <div class="ball-badge" id="p2Balls"></div>
  </div>

  <!-- <div id="turnIndicator">Turn: Player 1</div> -->
</div>


<div id="gameMessage"></div>

<style>
  .ball-badge { display:flex; gap:3px; margin-top:5px; }
  .ball-dot { width:14px; height:14px; border-radius:50%; border:1px solid #333; }
  .ball-dot.red { background-color:red; }
  .ball-dot.yellow { background-color:yellow; }
</style>

<script src="{{ url_for('static', filename='js/pool.js') }}"></script>
<script src="{{ url_for('static', filename='js/candy.js') }}"></script>

</body>
=======
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ user.username }}'s Dashboard - GamerHub</title>

    <!-- Bootstrap -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@400;600&display=swap"rel="stylesheet"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow fixed-top">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    
    <!-- Brand on the far left -->
    <a class="navbar-brand fw-bold text-danger" href="/">üéÆ GamerHub</a>

    <!-- Logout on the far right -->
    <div>
      <a href="{{ url_for('logout') }}" class="btn btn-danger btn-sm">üö™ Logout</a>
    </div>

  </div>
</nav>

<!-- Dashboard Layout -->
<div class="container mt-4 dashboard">
    <!-- Profile Card -->
    <div class="d-flex justify-content-center mb-4">
        <div class="card profile-card shadow-lg text-center bg-dark text-white">
            <img
                class="avatar-img mt-3"
                src="{{ url_for('static', filename='avatars/' ~ (user.avatar or 'default-avatar.png')) }}"
                alt="avatar"
            />
            <div class="card-body">
                <h3 class="card-title username">{{ user.username|capitalize }}</h3>
                <p class="bio">{{ user.bio }}</p>
                {% if user.xp is not none %}
                <span class="badge bg-warning text-dark">‚≠ê XP: {{ user.xp }}</span>
                {% endif %}
                <a href="{{ url_for('profile', username=user.username) }}" class="btn btn-secondary profile-btn">
                    üë§ Profile
                </a>
            </div>
        </div>
    </div>
</div>


    <a href="{{ url_for('upload_file') }}" class="btn btn-primary upload-btn mb-4">‚¨Ü Upload</a>
<div class="row g-12">
  <div class="col-12">
    <div class="card shadow-lg w-100  text-light border-0" style="background-color: #613494;">
      <!-- Header -->
      <div class="card-header bg-gradient rounded-top-4 border-0" 
           style="background: linear-gradient(90deg, #964f4f, #222);">
        <h5 class="mb-0 fw-bold text-light">
          <i class="bi bi-folder-fill text-warning me-2"></i> My Uploads
        </h5>
      </div>

      <!-- Body -->
      <div class="card-body">
        {% if uploads %}
        <div class="row row-cols-1 row-cols-md-2 g-4">
          {% for upload in uploads %}
          <div class="col">
            <div class="card h-100 w-100 bg-secondary text-white border-0 rounded-3 shadow-sm overflow-hidden upload-card">
              
              <!-- Thumbnail (16:9 ratio like YouTube) -->
              <a href="{{ url_for('view_upload', upload_id=upload.id) }}" class="d-block position-relative">
                {% if upload.filetype == 'video' %}
                <video muted preload="metadata" class="w-100" style="height: 180px; object-fit: cover;">
                  <source src="{{ url_for('static', filename='uploads/' + upload.filename) }}" type="video/mp4" />
                </video>
                {% else %}
                <img src="{{ url_for('static', filename='uploads/' + upload.filename) }}"
                     alt="Upload"
                     class="w-100"
                     style="height: 180px; object-fit: cover;" />
                {% endif %}
              </a>

              <!-- Info -->
              <div class="card-body d-flex flex-column justify-content-between">
                <p class="mb-2 small text-light opacity-75">
                  üëÅ {{ upload.views }} &nbsp; | &nbsp; ‚ù§Ô∏è {{ upload.likes }}
                </p>
                <div class="d-flex justify-content-between">
                  <form action="{{ url_for('like_upload', upload_id=upload.id) }}" method="POST">
                    <button type="submit" class="btn btn-sm btn-outline-light rounded-pill px-3">
                      ‚ù§Ô∏è Like
                    </button>
                  </form>
                  <form action="{{ url_for('delete_upload', upload_id=upload.id) }}" method="POST">
                    <button type="submit" class="btn btn-sm btn-outline-warning rounded-pill px-3">
                      üóë Delete
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        {% else %}
          <p class="text-muted text-center fst-italic">‚ú® You haven‚Äôt uploaded anything yet.</p>
        {% endif %}
      </div>
    </div>
  </div>
</div>
    <!-- Split content: Uploads (left) and Games (right) -->
   

<div class="row g-2 mt-2">
  <!-- Tic Tac Toe Game (left column) -->
  <div class="col-md-3">
    <div class="card shadow rounded bg-dark text-light h-100">
      <div class="card-header d-flex align-items-center justify-content-center">
        <h5>Tic Tac Toe Game</h5>
      </div>
      <div class="card-body d-flex flex-column align-items-center" style="max-height:600px; overflow-y:auto;">
        <div id="tic-tac-toe-game" style="width: 100%; max-width: 320px;">
          <!-- Player inputs -->
          <input type="text" id="playerXName" class="form-control mb-3" placeholder="Player X Name" />
          <input type="text" id="playerOName" class="form-control mb-3" placeholder="Player O Name" />

          <!-- Tic Tac Toe board -->
          <table id="tic-tac-toe-board" style="width: 100%; border-collapse: separate; border-spacing: 5px; cursor: pointer;">
            <tr>
              <td data-cell="0"></td>
              <td data-cell="1"></td>
              <td data-cell="2"></td>
              <td data-cell="3"></td>
            </tr>
            <tr>
              <td data-cell="4"></td>
              <td data-cell="5"></td>
              <td data-cell="6"></td>
              <td data-cell="7"></td>
            </tr>
            <tr>
              <td data-cell="8"></td>
              <td data-cell="9"></td>
              <td data-cell="10"></td>
              <td data-cell="11"></td>
            </tr>
          </table>

          <button id="tic-tac-toe-reset" class="btn btn-warning mt-3 mx-auto d-block">Reset Game</button>
          <p id="tic-tac-toe-status" class="text-center mt-2">Player X's turn</p>
        </div>
      </div>
    </div>
  </div>                                                                                                                                                                           
<title>CandiCrush ‚Äî Match-3 Game</title>
<div class="wrap">
  <!-- Left panel -->
  <div class="panel" aria-live="polite">
    <div class="title">
      <div class="logo">CC</div>
      <div>
        <h1>CandiCrush</h1>
        <p class="desc">Match 3 or more candies to score. Try to beat the target score in limited moves.</p>
      </div>
    </div>

    <div class="scoreboard">
      <div class="stat">
        <div style="font-size:12px;color:var(--muted)">Score</div>
        <div class="big" id="score">0</div>
      </div>
      <div class="stat">
        <div style="font-size:12px;color:var(--muted)">Moves Left</div>
        <div class="big" id="moves">30</div>
      </div>
    </div>

    <div class="controls">
      <button class="btn" id="btnRestart">Restart</button>
      <button class="btn secondary" id="btnShuffle">Shuffle</button>
      <button class="btn" id="btnHint">Hint</button>
    </div>

    <div class="info">
      <strong>How to play</strong>
      <p style="margin:8px 0 0 0">Click a candy, then click an adjacent candy to swap. Match 3 or more in a row or column to clear them. Chains give combos and extra points.</p>
    </div>

    <div style="margin-top:14px; font-size:13px; color:var(--muted)">
      <div>Target: <strong id="target">2000</strong> pts</div>
      <div style="margin-top:6px">Combos award bonus points.</div>
    </div>
  </div>

  <!-- Right panel -->
  <div class="board-wrap panel" role="application">
    <div class="topbar">
      <div class="left">
        <div class="moves">Level 1</div>
        <div class="level">Difficulty: Normal</div>
      </div>
      <div class="status" id="statusLabel">Ready</div>
    </div>

    <div class="board" id="boardContainer" style="--cols:8; --rows:8;">
      <div id="grid" class="grid" style="grid-template-columns: repeat(8, 56px); grid-auto-rows: 56px;"></div>
    </div>

    <div class="hud">
      <div class="hint" id="hintText">Tip: swap adjacent candies</div>
      <div>
        <small style="color:var(--muted)">Made with ‚ù§Ô∏è</small>
      </div>
    </div>

  </div>
</div>

<script>
/*
  CandiCrush ‚Äî Match-3 game logic
  - 8x8 grid
  - Click-select swap; basic match detection & gravity; refill; scoring
*/

</script>
<div class="col-12 mt-4">
  <div class="card shadow rounded bg-dark text-light">
    <div class="card-header d-flex align-items-center justify-content-center">
      <h5>üé± Pool Game</h5>
    </div>
    <div class="card-body text-center" style="position:relative;">
  <canvas id="poolCanvas" width="800" height="400" 
          style="border-radius:15px; background:#35654d; box-shadow:0 0 20px rgba(0,0,0,0.5);">
  </canvas>

  <!-- üé≠ Popup Message -->
  <div id="gameMessage"></div>

  <!-- üéÆ Game Over Overlay -->
  <div id="gameOverOverlay" class="overlay hidden">
      <div class="overlay-content">
          <h1 id="gameOverTitle">Game Over</h1>
          <p id="gameOverMessage"></p>
          <div class="overlay-buttons">
              <button onclick="restartGame()">Play Again</button>
              <button onclick="exitGame()">Exit</button>
</div>
</div>
</div>
</div>
</div>


<!-- Modal -->
<div
    class="modal fade"
    id="mediaModal"
    tabindex="-1"
    aria-labelledby="mediaModalLabel"
    aria-hidden="true"
>
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content bg-dark text-white">
            <div class="modal-header border-0">
                <h5 class="modal-title" id="mediaModalLabel">Media Viewer</h5>
                <button
                    type="button"
                    class="btn-close btn-close-white"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                ></button>
            </div>
            <div class="modal-body text-center">
                <!-- Media content injected via JS -->
            </div>
            <div class="modal-footer">
                <p class="me-3">üëÅÔ∏è Views: <span id="modal-views">0</span></p>
                <p class="me-3">‚ù§Ô∏è Likes: <span id="modal-likes">0</span></p>
                <form id="modal-like-form" method="POST">
                    <button type="submit" class="btn btn-danger btn-sm">‚ù§Ô∏è Like</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    const mediaModal = document.getElementById("mediaModal");

    mediaModal.addEventListener("show.bs.modal", function (event) {
        const button = event.relatedTarget;
        const type = button.getAttribute("data-type");
        const src = button.getAttribute("data-src");
        const videoId = button.getAttribute("data-id");
        const views = button.getAttribute("data-views");
        const likes = button.getAttribute("data-likes");

        const modalBody = mediaModal.querySelector(".modal-body");
        modalBody.innerHTML = "";

        // Inject media
        if (type === "image") {
            const img = document.createElement("img");
            img.src = src;
            img.className = "img-fluid rounded";
            modalBody.appendChild(img);
        } else {
            const video = document.createElement("video");
            video.src = src;
            video.className = "w-100 rounded";
            video.controls = true;
            video.autoplay = true;
            modalBody.appendChild(video);
        }

        // Update views and likes
        document.getElementById("modal-views").textContent = views;
        document.getElementById("modal-likes").textContent = likes;

        // Update the form action for liking
        const likeForm = document.getElementById("modal-like-form");
        likeForm.action = `/like_video/${videoId}`; // Make sure this route exists in Flask
    });
</script>
<script src="{{ url_for('static', filename='js/tic_tac_toe.js') }}"></script>

<div id="scoreboard">
  <div class="player-card">
    <div class="avatar avatar-red" id="p1Avatar">P1</div>
    <input id="p1Name" value="Player 1" oninput="updateAvatar('p1')">
    <span id="p1BallCount">7</span>
    <div class="ball-badge" id="p1Balls"></div>
  </div>

  <div class="player-card">
    <div class="avatar avatar-yellow" id="p2Avatar">P2</div>
    <input id="p2Name" value="Player 2" oninput="updateAvatar('p2')">
    <span id="p2BallCount">7</span>
    <div class="ball-badge" id="p2Balls"></div>
  </div>

  <!-- <div id="turnIndicator">Turn: Player 1</div> -->
</div>


<div id="gameMessage"></div>

<style>
  .ball-badge { display:flex; gap:3px; margin-top:5px; }
  .ball-dot { width:14px; height:14px; border-radius:50%; border:1px solid #333; }
  .ball-dot.red { background-color:red; }
  .ball-dot.yellow { background-color:yellow; }
</style>

<script src="{{ url_for('static', filename='js/pool.js') }}"></script>
<script src="{{ url_for('static', filename='js/candy.js') }}"></script>

</body>
>>>>>>> 1c86a86 (Initial commit)
</html> 